<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Dashboard</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">
    <link rel="stylesheet" href="/css/style.css">

    <style>
        /* --- CSS B·ªï sung ri√™ng cho trang Dashboard  --- */

        /* Banner Xin ch√†o */
        .welcome-banner {
            background: linear-gradient(45deg, #1f2937, #111827); /* M√†u t·ªëi sang tr·ªçng */
            color: #fff;
            border-radius: 0.5rem;
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            border: 1px solid #374151;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        /* Widget Th·ªëng k√™ (Small Box chu·∫©n AdminLTE) */
        .small-box {
            border-radius: 0.5rem;
            position: relative;
            display: block;
            margin-bottom: 20px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.12), 0 1px 2px rgba(0,0,0,0.24);
            overflow: hidden;
            color: #fff;
            height: 100%; /* ƒê·ªÉ c√°c √¥ cao b·∫±ng nhau */
        }
        .small-box > .inner { padding: 20px; }
        .small-box h3 { font-size: 2.2rem; font-weight: 700; margin: 0 0 5px 0; white-space: nowrap; }
        .small-box p { font-size: 1rem; font-weight: 600; margin: 0; }

        /* Icon m·ªù to ƒë√πng */
        .small-box .icon {
            position: absolute;
            top: 10px;
            right: 10px;
            z-index: 0;
            font-size: 65px;
            color: rgba(0,0,0,0.15);
            transition: transform .3s linear;
        }
        .small-box:hover .icon { transform: scale(1.1); }

        .small-box-footer {
            position: relative;
            text-align: center;
            padding: 5px 0;
            color: rgba(255,255,255,0.8);
            display: block;
            z-index: 10;
            background: rgba(0,0,0,0.1);
            text-decoration: none;
        }
        .small-box-footer:hover { color: #fff; background: rgba(0,0,0,0.15); }

        /* M√†u n·ªÅn Widget */
        .bg-info { background-color: #17a2b8 !important; }
        .bg-success { background-color: #28a745 !important; }
        .bg-warning { background-color: #ffc107 !important; color: #1f2d3d !important; }
        .bg-danger { background-color: #dc3545 !important; }

        /* Ch·ªânh m√†u ch·ªØ cho √¥ v√†ng */
        .bg-warning .small-box-footer { color: rgba(31, 45, 61, 0.7) !important; }
    </style>
</head>
<body> <aside class="sidebar">
    <a href="/nvkAdmin" class="sidebar-brand">
        <i class="bi bi-shield-check text-primary me-2"></i><span>NVK-ADMIN</span>
    </a>
    <div class="sidebar-content">
        <div class="user-panel">
            <img th:if="${session.nvkAdminLogin.nvkAvatar != null}" th:src="${session.nvkAdminLogin.nvkAvatar}" class="user-avatar">
            <img th:unless="${session.nvkAdminLogin.nvkAvatar != null}" src="/images/sbcf-default-avatar.webp" class="user-avatar">
            <div class="user-info">
                <div th:text="${session.nvkAdminLogin.nvkFullName}">Admin</div>
                <small class="text-success"><i class="bi bi-circle-fill" style="font-size:8px"></i> Online</small>
            </div>
        </div>

        <nav class="mt-2 px-2">
            <a href="/nvkAdmin" class="nav-link active"><i class="bi bi-grid-1x2-fill me-2"></i> Dashboard</a>

            <div class="nav-header">QU·∫¢N L√ù KHO</div>
            <a href="/nvkAdmin/category" class="nav-link"><i class="bi bi-folder2-open me-2"></i> Danh M·ª•c</a>
            <a href="/nvkAdmin/product" class="nav-link"><i class="bi bi-box-seam me-2"></i> S·∫£n Ph·∫©m</a>

            <div class="nav-header">KINH DOANH</div>
            <a href="/nvkAdmin/customer" class="nav-link"><i class="bi bi-people-fill me-2"></i> Kh√°ch H√†ng</a>
            <a href="/nvkAdmin/order" class="nav-link"><i class="bi bi-cart-fill me-2"></i> ƒê∆°n H√†ng</a>

            <div class="nav-header">H·ªÜ TH·ªêNG</div>
            <a href="/nvkAdmin/accounts" class="nav-link"><i class="bi bi-shield-lock-fill me-2"></i> Admin Accounts</a>
        </nav>
    </div>
    <div class="sidebar-footer"><a href="/nvkLogout" class="nav-link text-danger"><i class="bi bi-box-arrow-right me-2"></i> ƒêƒÉng xu·∫•t</a></div>
</aside>

<div class="content-wrapper">
    <div class="main-header">
        <div class="d-flex align-items-center gap-3">
            <button class="btn btn-link text-dark p-0 fs-4" onclick="document.body.classList.toggle('sidebar-closed')">
                <i class="bi bi-list"></i>
            </button>
            <h4 class="mb-0 fw-bold text-dark">Dashboard</h4>
        </div>
        <a href="/" target="_blank" class="btn btn-outline-secondary btn-sm">Xem Website</a>
    </div>

    <div class="content-header">
        <div class="welcome-banner">
            <div>
                <h2 class="fw-bold mb-1">Xin ch√†o, <span class="text-primary" th:text="${session.nvkAdminLogin.nvkFullName}">Admin</span>! üëã</h2>
                <p class="mb-0 text-secondary">H·ªá th·ªëng ho·∫°t ƒë·ªông ·ªïn ƒë·ªãnh. Ch√∫c b·∫°n m·ªôt ng√†y t·ªët l√†nh.</p>
            </div>

            <div class="d-none d-md-flex align-items-center bg-white text-dark px-3 py-2 rounded-pill">
                <i class="bi bi-calendar3 me-2 text-primary"></i>
                <span class="fw-bold" th:text="${#temporals.format(#temporals.createNow(), 'dd/MM/yyyy')}">Date</span>
            </div>
        </div>

        <div class="row g-4"> <div class="col-lg-3 col-6">
            <div class="small-box bg-info">
                <div class="inner">
                    <h3 th:text="${orderCount != null ? orderCount : 0}">0</h3>
                    <p>ƒê∆°n H√†ng M·ªõi</p>
                </div>
                <div class="icon"><i class="bi bi-bag"></i></div>
                <a href="/nvkAdmin/order" class="small-box-footer">Chi ti·∫øt <i class="bi bi-arrow-right-circle"></i></a>
            </div>
        </div>

            <div class="col-lg-3 col-6">
                <div class="small-box bg-success">
                    <div class="inner">
                        <h3 th:text="${prodCount}">0</h3>
                        <p>S·∫£n Ph·∫©m</p>
                    </div>
                    <div class="icon"><i class="bi bi-box-seam"></i></div>
                    <a href="/nvkAdmin/product" class="small-box-footer">Qu·∫£n l√Ω kho <i class="bi bi-arrow-right-circle"></i></a>
                </div>
            </div>

            <div class="col-lg-3 col-6">
                <div class="small-box bg-warning">
                    <div class="inner">
                        <h3 th:text="${userCount != null ? userCount : 0}">0</h3>
                        <p>Kh√°ch H√†ng</p>
                    </div>
                    <div class="icon"><i class="bi bi-people-fill"></i></div>
                    <a href="/nvkAdmin/customer" class="small-box-footer">Danh s√°ch <i class="bi bi-arrow-right-circle"></i></a>
                </div>
            </div>

            <div class="col-lg-3 col-6">
                <div class="small-box bg-danger">
                    <div class="inner">
                        <h3 th:text="${cateCount}">0</h3>
                        <p>Danh M·ª•c</p>
                    </div>
                    <div class="icon"><i class="bi bi-tags-fill"></i></div>
                    <a href="/nvkAdmin/category" class="small-box-footer">Xem t·∫•t c·∫£ <i class="bi bi-arrow-right-circle"></i></a>
                </div>
            </div>

        </div>
    </div>
</div>

<script>function toggleSidebar() { document.body.classList.toggle('sidebar-closed'); }</script>
</body>
</html>