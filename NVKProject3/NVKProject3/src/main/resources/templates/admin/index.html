<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Dashboard</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">
    <link rel="stylesheet" href="/css/style.css">
</head>
<body>

<aside th:replace="~{fragments/sidebar :: sidebar('home')}"></aside>

<div class="content-wrapper">
    <div class="content-header mb-4 p-4 rounded">
        <div class="container-fluid">
            <div class="row align-items-center py-3">
                <div class="col-sm-8">
                    <h1 class="m-0 text-dark fs-3">
                        Xin ch√†o, <span class="text-primary fw-bold" th:text="${session.nvkAdminLogin.nvkFullName}">Admin</span>! üëã
                    </h1>
                    <p class="text-muted mb-0 mt-1">
                        <i class="bi bi-emoji-smile"></i> Ch√∫c b·∫°n m·ªôt ng√†y t·ªët l√†nh v√† l√†m vi·ªác hi·ªáu qu·∫£.
                    </p>
                </div>

                <div class="col-sm-4 text-end">
                    <div class="d-inline-block text-end me-3">
                        <div id="live-time" class="fw-bold fs-5 text-dark" style="line-height: 1.2;">--:--:--</div>
                        <div id="live-date" class="small text-muted text-uppercase" style="font-size: 0.85rem;">...</div>
                    </div>
                    <a href="/" target="_blank" class="btn btn-outline-secondary btn-sm align-top shadow-sm">
                        <i class="bi bi-globe"></i> Website
                    </a>
                </div>
            </div>
        </div>
    </div>

    <div class="content px-2">
        <div class="row">
            <div class="col-lg-3 col-6">
                <div class="small-box bg-info">
                    <div class="inner">
                        <h3 th:text="${orderCount}">0</h3>
                        <p>ƒê∆°n H√†ng M·ªõi</p>
                    </div>
                    <div class="icon"><i class="bi bi-bag"></i></div>
                    <a href="/nvkAdmin/order" class="small-box-footer">Chi ti·∫øt <i class="bi bi-arrow-right-circle"></i></a>
                </div>
            </div>

            <div class="col-lg-3 col-6">
                <div class="small-box bg-success">
                    <div class="inner">
                        <h3 th:text="${prodCount}">0</h3>
                        <p>S·∫£n Ph·∫©m</p>
                    </div>
                    <div class="icon"><i class="bi bi-bar-chart"></i></div>
                    <a href="/nvkAdmin/product" class="small-box-footer">Chi ti·∫øt <i class="bi bi-arrow-right-circle"></i></a>
                </div>
            </div>

            <div class="col-lg-3 col-6">
                <div class="small-box bg-warning">
                    <div class="inner">
                        <h3 th:text="${userCount}">0</h3>
                        <p>Kh√°ch H√†ng</p>
                    </div>
                    <div class="icon"><i class="bi bi-person-plus"></i></div>
                    <a href="/nvkAdmin/customer" class="small-box-footer">Chi ti·∫øt <i class="bi bi-arrow-right-circle"></i></a>
                </div>
            </div>

            <div class="col-lg-3 col-6">
                <div class="small-box bg-danger">
                    <div class="inner">
                        <h3 th:text="${cateCount}">0</h3>
                        <p>Danh M·ª•c</p>
                    </div>
                    <div class="icon"><i class="bi bi-pie-chart"></i></div>
                    <a href="/nvkAdmin/category" class="small-box-footer">Chi ti·∫øt <i class="bi bi-arrow-right-circle"></i></a>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    function updateClock() {
        const now = new Date();

        // ƒê·ªãnh d·∫°ng gi·ªù: 14:05:30
        const timeString = now.toLocaleTimeString('vi-VN', { hour: '2-digit', minute: '2-digit', second: '2-digit' });

        // ƒê·ªãnh d·∫°ng ng√†y: Th·ª© Hai, 12 th√°ng 02, 2025
        const dateString = now.toLocaleDateString('vi-VN', { weekday: 'long', day: '2-digit', month: 'long', year: 'numeric' });

        document.getElementById('live-time').innerText = timeString;
        document.getElementById('live-date').innerText = dateString;
    }

    // Ch·∫°y ngay l·∫≠p t·ª©c v√† l·∫∑p l·∫°i m·ªói gi√¢y
    updateClock();
    setInterval(updateClock, 1000);
</script>
</html>